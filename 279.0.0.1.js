"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[279],{50279:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});s(67588);var l=s(95899),i=s(66327),n=s(31085),t=s(14041),c=s(30125),o=s(41245),r=s(12367),d=s(78008),u=s(55551),m=s(41087),p=s(47883);s(49494),s(62614),s(16276),s(30936),s(65148),s(62381),s(40665),s(42757),s(90717),s(88784),s(84654),s(68037),s(92855),s(73265),s(22896),s(5278),s(14613),s(75627),s(64012),s(54172),s(85832),s(49197),s(9532),s(63470),s(71610),s(43144),s(1733),s(90623),s(26135),s(8910),s(92198),s(36736),s(32738),s(40311),s(38184),s(42993),s(30750),s(34126),s(18026);const g=e=>{var{className:a="",disabled:s,fileTypes:l=["JPG","PNG","GIF","PDF","JPEG","DOC","DOCX","PPT","PPTX","RTF"],multiple:g=!1,clearAll:h=!1,onAction:x,errorMessage:v,label:j,uploadButtonText:f="Upload",clearButtonText:_="Clear",uploadOnChange:b=!1,pathField:N="url",onChange:T,uploadSuccessMessage:A,uploadFailedMessage:C,successMessageType:P="info",enableLoader:q=!1,errorMessageType:y="warning",value:k}=e,F=(0,i._)(e,["className","disabled","fileTypes","multiple","clearAll","onAction","errorMessage","label","uploadButtonText","clearButtonText","uploadOnChange","pathField","onChange","uploadSuccessMessage","uploadFailedMessage","successMessageType","enableLoader","errorMessageType","value"]);const[M,O]=(0,t.useState)([]),[S,w]=(0,t.useState)(!1),[B,G]=(0,t.useState)(!1),[D,L]=(0,t.useState)(!1),z=e=>{const a=M.indexOf(e);M.splice(a,1),O([...M])},E=e=>{T&&T({value:e,checkForAction:!1}),w(!0),G(!1),L(!1)},J=()=>{T&&T({value:null,checkForAction:!1}),w(!1),L(!0),G(!1)},R=e=>{G(!0),x&&x({},Object.assign(Object.assign({},F),{success:E,failed:J,data:{files:e&&e.files||M}})),O([])};return(0,n.jsxs)("div",{className:`sq-image-uploader ${a}`,children:[j&&(0,n.jsx)("label",{className:"sq-image-uploader__label",children:j}),(0,n.jsxs)("div",{className:"sq-image-uploader__container",children:[k&&k[N]&&(0,n.jsxs)("div",{className:"sq-image-uploader__image-preview",children:[(0,n.jsx)("img",{src:k[N]}),(0,n.jsx)(d.A,{title:"Remove",className:"sq-image-uploader__image-preview-close",iconName:"close",onClick:()=>{T&&T({value:null,checkForAction:!1})}})]}),(0,n.jsx)("div",{className:"sq-image-uploader__image-placeholder",children:(0,n.jsx)(p.T,{title:l.join(", ").toLowerCase(),children:(0,n.jsx)("span",{children:(0,n.jsx)(c.E,{disabled:s,multiple:g,fileOrFiles:M.length?null:M,className:"sq-image-uploader__file",handleChange:e=>(0,i.a)(void 0,void 0,void 0,(function*(){const a=g?e:[e],s=[].filter.call(a,(e=>0===M.filter((a=>a.name===e.name)).length));if(s.length>0){const e=[...g?M:[],...s];yield O(e),b&&R({files:e})}})),name:"file",types:l})})})}),q&&B&&(0,n.jsx)(m.A,{className:"tp-progress--active",style:"default"}),M&&(0,n.jsx)("div",{className:"sq-image-uploader__list",children:M.map((e=>(0,n.jsxs)("div",{title:e.name,className:"sq-image-uploader__file-item",children:[(0,n.jsx)("div",{className:"sq-image-uploader__file-icon",children:(0,n.jsx)(r.A,{name:"file",size:"small"})}),(0,n.jsx)("div",{className:"sq-image-uploader__file-name",children:e.name}),(0,n.jsx)("div",{className:"sq-image-uploader__file-delete",onClick:()=>z(e),children:(0,n.jsx)(r.A,{name:"close",size:"small",variant:"error"})})]},e.name)))}),v&&(0,n.jsx)("div",{className:"sq-error",children:v}),!b&&(0,n.jsx)(o.A,{disabled:0===M.length,variant:"outlined",onClick:R,buttonText:f}),h&&(0,n.jsx)(o.A,{disabled:0===M.length,variant:"outlined",onClick:()=>{O([])},buttonText:_})]}),A&&!B&&S&&(0,n.jsx)(u.A,{type:P,message:A}),C&&!B&&D&&(0,n.jsx)(u.A,{type:y,message:C})]})};g.propTypes={className:l.P.string,uploadButtonText:l.P.string,clearButtonText:l.P.string,errorMessage:l.P.string,onChange:l.P.func,actionOnSelect:l.P.bool,clearAll:l.P.bool}}}]);